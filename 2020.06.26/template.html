<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>template test example</h2>
    <ul class="content"></ul>
</body>

<script id="template-list-item" type="text/template"> 
    <!-- script의 type이 javascript가 아닌 다른것이라면 브라우저는 이 script를 무시한다
    이것을 이용하여 탬플릿 html 코드를 저장해두고 써보자. -->
    <li>
        <h4>{title}</h4><p>{content}</p><div>{price}</div>
    </li>
</script>
<script>
    var data = [ //원래는 서버에서 ajax로 가져와야함
        {title : "hello",content : "lorem dkfief",price : 2000},
        {title : "hello",content : "lorem dkfief",price : 2000}
    ];
    var html = document.querySelector("#template-list-item").innerHTML; // 저장해둔 html을 문자열로 저장햇다. // 템플릿 완성.
    var ul = document.querySelector(".content");
    for(var i=0;i<data.length;i++){ // 데이터가 배열이므로
        var resultHTML = html.replace("title",data[i].title)
                            .replace("content",data[i].content)
                            .replace("price",data[i].price);  //템플릿에 각각의 데이터를 replace 해서 
        ul.innerHTML += resultHTML; // innerHTML로 해서 DOM 객체 생성
    }

    //서버에서 JSON 데이터를 ajax 통신으로 받아와서 처리 하는 연습을 할 필요가 있음.
    // 해당 JSON 파일에 원하는 데이터들만 뽑아서 templating을 할 수도 있음. (array, object을 탐색하면서)
    // template이 길거나, 자주 사용할 경우에는 따로 서버에 저장해두고 ajax로 불러와서 쓸수도 있음.
    // 원하는 위치에 넣고 싶을땐 insertAdjacent , insertBefore등을 사용하여 넣어도 된다.
    // ES6에서는 template literal이라는 기능이 생김. replace없이도 템플릿 사용이 가능.
</script>
</html>